<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#000000" />
  <title>Roll'n'Trip</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Autres -->
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="https://i.ibb.co/4RNJ4STy/image-6-1.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600&display=swap" rel="stylesheet">
  
</head>
<body>
<header>
  <nav>
    <a href="https://rollntrip.com/" class="logo">
      <img src="https://i.ibb.co/RMG26p5/image-4.png" alt="Logo Roll'n'Trip" />
    </a>
    
    <div class="menu-toggle" id="menuToggle">☰</div>
    
    <ul class="nav-links" id="navLinks">
      <li><a href="https://rollntrip.com/" style="color: #A9FCED;">Réserver une session</a></li>
      <li><a href="https://rollntrip.vercel.app/about-us">À propos</a></li>
      <li><a href="https://rollntrip.vercel.app/contact">Contact</a></li>
      
      <!-- Drapeaux de langue -->
      <li class="language-flags">
        <a href="https://rollntrip.vercel.app/fr" title="Français">🇫🇷</a>
        <a href="?lang=en" title="English">🇬🇧</a>
        <a href="?lang=de" title="Deutsch">🇩🇪</a>
      </li>
    </ul>
  </nav>
</header>
    
  <section class="hero">
    <div class="hero-content">
      <h1>Réservez votre session</h1>
    </div>
    <div class="down-arrow">&#x2193;</div>
  </section>
  
  <!-- Section des points de rendez-vous -->
  <section class="meeting-points">
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'port-grimaud')">Session à Port Grimaud</button>
      <div class="calendly-widget"></div>
    </div>
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'point-b')">Session à La Nartelle</button>
      <div class="calendly-widget"></div>
    </div>
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'point-c')">Session à Pampelonne</button>
      <div class="calendly-widget"></div>
    </div>
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'point-d')">Session à Saint-Aygulf</button>
      <div class="calendly-widget"></div>
    </div>
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'point-e')">Session à Gros Pin</button>
      <div class="calendly-widget"></div>
    </div>
    <div class="meeting-point">
      <button class="meeting-button" onclick="toggleCalendly(this, 'point-f')">Session à La Gaillarde</button>
      <div class="calendly-widget"></div>
    </div>
  </section>
  
   <!-- PIED DE PAGE -->
  <footer>
    &copy; 2025 RollnTrip
  </footer>
  
  <!-- Script Calendly -->
  <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
  
  <!-- JavaScript pour Calendly & Menu Mobile -->
  <script>
    function toggleCalendly(button, location) {
      // Récupérer le conteneur Calendly situé juste en dessous du bouton cliqué
      let widgetContainer = button.nextElementSibling;
      // Vérifier si ce widget est déjà ouvert
      let isCurrentlyOpen = widgetContainer.style.display === "block";
      
      // Fermer tous les widgets Calendly
      document.querySelectorAll('.calendly-widget').forEach(widget => {
        widget.innerHTML = "";
        widget.style.display = "none";
      });
      
      // Si le widget cliqué était déjà ouvert, ne rien faire de plus (il reste fermé)
      if (isCurrentlyOpen) return;
      
      // Préparer l'URL (avec bannière de cookies masquée)
      let urls = {
        "port-grimaud": "https://calendly.com/booking-rollntrip/30min?hide_gdpr_banner=1&primary_color=000000",
        "point-b": "https://calendly.com/booking-rollntrip/at-la-nartelle?hide_gdpr_banner=1",
        "point-c": "https://calendly.com/point-c/30min?hide_gdpr_banner=1",
        "point-d": "https://calendly.com/point-d/30min?hide_gdpr_banner=1",
        "point-e": "https://calendly.com/point-e/30min?hide_gdpr_banner=1",
        "point-f": "https://calendly.com/point-f/30min?hide_gdpr_banner=1"
      };
      
      // Afficher l'animation de plage pendant le chargement
      widgetContainer.innerHTML = `<div class="beach-animation">🏖</div>`;
      widgetContainer.style.display = "block";
      
      // Initialiser le widget Calendly en ligne avec le script officiel
      Calendly.initInlineWidget({
        url: urls[location],
        parentElement: widgetContainer,
        prefill: {},
        utm: {}
      });
      
      // Supprimer l'animation de plage après un court délai
      setTimeout(() => {
        let anim = widgetContainer.querySelector('.beach-animation');
        if (anim) anim.style.display = "none";
      }, 800);
    }
  </script>
  
  <script>
    document.getElementById("menuToggle").addEventListener("click", function() {
      document.getElementById("navLinks").classList.toggle("active");
    });
  </script>
</body>
</html>
